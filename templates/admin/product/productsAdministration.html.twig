{% extends "layout.html.twig" %}
{% block title %}Products administration
{% endblock %}
{% block content %}
 <a href="{{ path('admin_app_product_add')}}">Add a new product</a>
	<table class="table text-center ">
		<thead class="thead-dark">
			<tr>
				<th scope="col">Id</th>
				<th scope="col">title</th>
				<th scope="col">description</th>
				<th scope="col">color</th>
				<th scope="col">size</th>
				<th scope="col">photo</th>
				<th scope="col">price</th>
				<th scope="col">stock</th>
				<th scope="col">Category</th>
				<th scope="col">Action</th>
			</tr>
		</thead>
		<tbody>

			{% for product in products %}
				<tr>
					<td>{{product.id}}</td>
					<td>{{ product.title}}</td>
					<td>{{ product.description | slice(0,50)}}...</td>
					<td>{{ product.color}}</td>
					<td>{{ product.size}}</td>
					<td><img class="img-thumbnail" src="{{ asset('photos/product/' ~ product.photo) }}" alt="{{ product.title}}">
					</td>
					<td>{{product.price}}</td>
					<td>{{product.stock}}</td>
					<td>{{product.catagory.name}}</td>
					<td>
						<a href="{{ path('admin_app_product_details', {id: product.id}) }}">
							<i class="fas fa-eye mx-1 text-primary"></i>
						</a>
						<a href="{{ path('admin_app_product_update', {id: product.id}) }}">
							<i class="fas fa-edit mx-1 text-success"></i>
						</a>
						<a href="{{ path('admin_app_product_delete', {id: product.id}) }}" onclick="return confirm('êtes vous sûr de vouloir supprimer le produit ?')">
							<i class="fas fa-trash mx-1 text-danger"></i>
						</a>
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

{% endblock %}
